# 需求规格说明模板
# 目录
## 0. 版本管理
## 1. 引言
### 1.1 目的
### 1.2 范围
### 1.3 参考文献
## 2. 总体描述

### 2.1 项目前景
#### 2.1.1 背景与机遇
#### 2.1.2 业务需求
### 2.2 项目功能
### 2.3 用户特征
### 2.4 约束
### 2.5 假设与依赖

## 3. 详细需求描述
### 3.1 对外接口需求
#### 3.1.1 用户界面 
#### 3.1.2 通信接口
### 3.2 功能需求
#### 3.2.1  xx用例
##### 3.2.1.1 特征描述
##### 3.2.1.2 刺激/响应序列
##### 3.2.1.3 相关功能需求


### 3.3 非功能需求
#### 3.3.1  安全性
#### 3.3.2  可维护性
#### 3.3.3  易用性
#### 3.3.4  可靠性
#### 3.3.5  业务规则
#### 3.3.6  约束

### 3.4  数据需求
#### 3.4.1  数据定义
#### 3.4.2  默认数据
#### 3.4.3  数据格式要求


## 0. 版本管理
| 组员 | 修改时间 | 修改原因 | 版本 |
| :------: | -------- | ---- | ---- |
| 戎鑫 | 3.20 | 填写内容  | 1.0 |
| 邵天宇 | 3.21 | 填写内容  | 2.0 |
| 张李明 | 3.21 | 填写内容  | 3.0 |
| 戎鑫 | 6.23 | 修改内容  | 4.0 |
| 戎鑫 | 7.2 | 修改内容  | 5.0 |

## 1. 引言
### 1.1 目的
>编写该文档的目的是为了解决传统的线下酒店预订模式的不方便的问题，实现一个互联网酒店预定系统，
开发小组的软件系统实现与验证工作都以此文档为依据。
>除特殊说明之外，本文档所包含的需求都是最高优先级
### 1.2 范围
>该文档主要描述取消订单和优惠相关的内容
### 1.3 参考文献
>* IEEE标准
>* 软件工程2大作业需求
## 2. 总体描述

### 2.1 项目前景
#### 2.1.1 背景与机遇
>随着工作和生活节奏的加快，人们的差旅出行需要迅速提升，但是传统上的线下 酒店预订模式有着很多不方便之处：
>>* 因为目的地往往是外地，无法全面了解当地的酒店情况，选择范围大大受限， 难以选择到最适合的酒店；
>>* 提前预订的双方都有风险，酒店担心恶意预订，顾客担心酒店不符合预期；
>>* 酒店要及时掌握预订顾客的行程变化也会比较麻烦，需要频繁的长途联系；
>>* 虽然过去的体验能够给未来带来参考，但是时间一长很多信息就会被遗忘掉， 过去的参考作用就受到限制。（事实上，过去的出行体验会大大影响人们未来 的选择）
#### 2.1.2 业务需求
>* 全面展现任一个地域内的酒店信息，帮助顾客进行更好地比较与选择；
>* 执行信用累计制度，防范恶意预订；
>* 进行房客评价，反映酒店与描述的相符程度；
>* 让酒店可以及时了解到所有预订订单的变化动态；
>* 帮助顾客建立体验历史记录，在顾客预订时发挥历史记录的作用。
>* 为了进行网站推广，吸引酒店和顾客的入驻，该网站会在系统中补贴费用 帮助酒店进行促销。 
### 2.2 项目功能
>* A.客户
>>* i.个人基本信息
>>>* 1.浏览、维护基本信息（姓名或名称，联系方式、信用）
>>>* 2.浏览自己未执行的正常订单
>>>>* a.只可以在一天之前撤销自己未执行的正常订单，前一天撤销扣除信用值为订单价值的一半
>>>>* b.撤销的订单并不会删除数据，只是置为已撤销状态，记录撤销时间
>>>* 3.浏览、评价自己已入住的正常订单
>>>* 4.浏览自己异常订单和已撤销订单
>>>* 5.查看自己预定过的酒店（正常订单、异常订单和撤销订单要分别标记）
>>>* 6.信用值查看
>>* ii.浏览酒店详细信息
>>>* 1.可以单独查看酒店细节信息（地址、简介、设施服务、客房类型、价格）
>>>* 2.列表中需要标记该酒店自己是否曾经预定过（正常订单、异常订单和撤销订单要分别标记）；
>>>* 3.查看酒店细节时要列出所有自己在该酒店的订单（正常订单、异常订单和撤销订单要分别标记）
>>>* 4.可以在列表中，也可以在选定的酒店详情中，生成订单
>>* iii.生成订单（订单生成时计算多种优惠策略，选择价格最低的方案。不需要考虑预付订金）
>>>* 1.可以在之前的酒店浏览和搜索时发起
>>>* 2.订单中要记录：开始时间、退房时间、最晚订单执行时间、房间类型及数量、预计入住人数、有无儿童。
>>* iv.评价，包括评分和评论；
>>>* 1.只能评价自己已执行订单中的酒店
>>>* 2.评价后根据订单价值信用值增加
>>* v.注册会员（会员根据信用值判断，超过10000信用值为会员）

>* B.酒店工作人员：
>>* i.录入、删除可用客房（类型、数量、原始价格）
>>* ii.更新入住和退房信息
>>>* 1.如果有订单执行情况，实时更新入住信息（房间号，入住时间、预计离开时间）；
>>>* 2.更新订单的退房信息（实际离开时间）
>>>* 3.房间只有在实际退房后才可以被再次预定
>>>* 4.如果有非订单（线下）的入住/退房导致的可用房间发生变化，也要及时更新信息；
>>* iii.浏览订单
>>>* 1.浏览未执行的房间预订的订单
>>>* 2.浏览已执行的订单
>>>* 3.浏览已评价和已撤销的订单
>>* iv.订单执行
>>>* 1.当用户已入住，改变订单状态为已入住。
>>>* 2.若客户没用入住，撤销该订单，信用值扣除量为订单价值
>>>* 3.已评价的订单用户可以获得等于订单价值的信用值增加

>* C.营销人员
>>* i.制定酒店优惠策略
>>>* 1.三间及以上预订特惠
>>>* 2.满减优惠折扣
>>>* 3.限时优惠折扣（在特定的期间住宿有折扣）
>>* ii.删除酒店优惠策略

>* D.网站管理人员
>>* i.用户管理（客户、酒店工作人员、网站营销人员）
>>>* 1.查询，更改酒店工作人员信息。
>>>* 2.添加、删除网站营销人员。
>>* ii.添加酒店及其工作人员，查询、更改酒店工作人员信息
>* E.其他
>>* i.添加新的类型的酒店促销策略和网站营销策略
### 2.3 用户特征
| 用户 | 特征 |
| :------: | ---- |
| 客户 | 客户通过酒店平台，维护个人基本信息、浏览酒店详细信息、搜索酒店信息、预定酒店、评价、注册会员 |
| 酒店工作人员 | 每个分店有4-6个酒店工作人员，他们的工作是维护酒店基本信息、录入可用客房、制定酒店促销策略、更新入住和退房信息、浏览订单、订单执行 |
| 网站管理人员 | 整个系统有一个网站管理人员，他的工作是用户管理、添加酒店及其工作人员，查询、更改酒店工作人员信息 |

### 2.4 约束
>* CON1. 用户只能查看和维护自己的信息
>* CON2. 酒店工作人员只能处理其所指定酒店的工作
>* CON3. 网站管理人员不能修改用户的信用值
>* CON4. 为防信息泄露，用户的账号、密码、姓名（名称）、联系方式必须密文存储
>* CON5. 所有类型人员都不需要专门的培训，就可以在10分钟内完成任一个操作任务。
>* CON6. 分布式部署:用户、酒店工作人员、网站营销人员、网站管理人员分布在不同的 地方，所以要提供各自的应用部署。
>>* a. 用户、酒店工作人员、网站营销人员、网站管理人员都在PC机上使用本 系统，都不使用WEB。
>>* b. 用户、酒店工作人员、网站营销人员、网站管理人员的PC机以及服务器上都没有安装Java运行环境。
### 2.5 假设与依赖
>* AE1. 网络畅通，不会发生故障
>* AE2. 所有操作任务的完成时间不会超过1个小时，即使用暂停与中断不会超过1个小时
>* AE3. 地址中的城市和商圈比较固定，事先被预置在系统数据中，且少量修改直接在后台数据中进行，不需要系统提供维护功能

## 3 详细需求描述
### 3.1 对外接口需求

#### 3.1.1 用户界面 
UI1  预定处理： 系统应当使用Form 风格的界面，帮助客户使用预定界面完成酒店的预定任务

​		UI1.1 客户在开始输入预定命令时，系统展开地址商圈选择界面

​				UI1.1.1 客户选择地址和商圈后，系统自动展开酒店信息列表

​						UI1.1.1.1 在用户完成订单内容输入后，并输入生成订单命令后，系统自动展示订单详细信息

UI2 个人信息维护：帮助客户浏览个人基本信息和订单信息，信用记录等

​		UI2.1 客户在选择基本信息后，自动展示个人基本信息列表

​		UI2.2 客户在选择未执行正常订单后，自动展示未执行正常订单列表

​		UI2.3 客户在选择已执行正常订单后，自动展示已执行正常订单列表

​		UI2.4 客户在选择己异常订单和已撤销订单后，自动展示异常订单和已撤销订单列表

​		............

UI3 用户评价： 帮助客户输入评论

UI4 会员注册：可以帮助用户完成会员注册任务

​		UI4.1 如果用户选择普通会员，则展示生日输入框

​		UI4.2 如果用户选择企业会员。则展示企业名称输入框

#### 3.1.2 通信接口

CI： 客户端和服务器使用RMI方式进行通信

### 3.2 功能需求
#### 3.2.1  取消订单用例
------

##### 3.2.1.1 特征描述

在用户完成订单生成后，可以在个人信息中找到为执行的正常订单，然后进行撤销（可能影响个人的信誉）

##### 3.2.1.2 刺激/响应序列

刺激：客户请求个人基本信息中的未执行正常账单

响应：系统展示未执行正常账单

刺激：客户取消选择的订单

响应：系统把订单设为已撤销状态，并记录时间判断是否降低信用

刺激：客户请求个人基本信息中的已撤销账单

响应：系统展示已撤销账单

##### 3.2.1.3 相关功能需求

bl.order.unbiuldinput    | 客户请求个人基本信息中的未执行正常账单

bl.order.annulinput  |客户取消选择的订单

bl.order.cancelinput  |客户请求个人基本信息中的已撤销账单

------

bl.order.getUserOrders    | 系统展示未执行正常账单

 bl.order.annulOrder         |系统把订单设为已撤销状态，并记录时间判断是否降低信用

bl.order.getUserOrders    |系统展示已撤销账单

------



#### 3.2.2 优惠促销用例

##### 3.2.2.1 特征描述

  用户处理生日特惠折扣 ，三间及以上预订特惠 ，合作企业客户折扣 ， 双 11 活动折扣（在特定的期间住宿有折扣）等优惠促销活动

##### 3.2.2.2 刺激/响应序列

刺激：用户输入订单金额

响应：系统判断是否满足满减优惠

刺激：用户确定订单

响应：系统记录时间，判断是否满足限时优惠

刺激：用户输入预定房间数量

响应：系统判断是否满足多间优惠

##### 3.2.2.3 相关功能需求

coupon.targetMoneyCouponStrategy.monryinput  |用户输入订单金额

coupon.timeCouponStrategy.timeinput                     | 用户确定订单     

coupon.numberCouponStrategy.numberinput         |用户输入预定房间数量

------

 coupon.targetMoneyCouponStrategy                        |系统判断是否满足满减优惠

coupon.timeCouponStrategy                                        | 系统记录时间，判断是否满足限时优惠

coupon.numberCouponStrategy                                  |系统判断是否满足多间优惠                


### 3.3 非功能需求
#### 3.3.1  安全性
>* i. 用户只能查看和维护自己的信息
>* ii. 酒店工作人员只能处理其所指定酒店的工作
>* iii. 网站管理人员不能修改用户的信用值
>* iv. 为防信息泄露，用户的账号、密码、姓名（名称）、联系方式必须密文存
   储
#### 3.3.2  可维护性
>* i. 系统出现故障时，由用户发出反馈，酒店工作人员可立即收到
>* ii. 网站管理人员定时检查系统工作运行状况
>* iii. 系统能持续的保持规定状态，发生故障后可在一小时内维修完成和恢复到正常状态
#### 3.3.3  易用性
>* i. 所有类型人员都不需要专门的培训，就可以在 10 分钟内完成任一个操作
   任务
#### 3.3.4  可靠性
>* i. 在进行数据的下载和上传中，如果网络故障，系统不能出现故障
>* ii. 系统可一天24小时连续正常工作
>* iii. 用户完成订单后，酒店工作人员可立即查看到
#### 3.3.5  业务规则
#### 3.3.6  约束
>* i. 系统不需要处理费用问题，完全由线下完成
>* ii. 用户的异常订单申诉不需要系统处理，完成线下进行
>* iii. 系统功能不包括酒店的房间管理（例如房间布局、门号、线下入住与退房
   等等），只需要完成订单操作和更新线下导致的可用房间类型数量变化。

### 3.4  数据需求
#### 3.4.1  数据定义
>* DRI: 系统符要存优的数据实体及其关系参见附图．．．．
>* DR2: 系统需要存储1年内的订单记录。
>* DR3: 系统删除之后的订单数据和用户数据仍然要继续存储3个月的时间，以保证历史数据显示的正确性。

#### 3.4.2  默认数据
默认数据用于以下两种情况：
>* 系统中新培加数据时。
>* 编织数据时不小心将相关内容清空时。
>* 防止没有数据造成的bug
>* 少数数据无法新增，必须初始在数据库中

>>>* Defaultl: 商品的数位默认为1。
>>>* Dcfault2: 费用或价格的数据默认为0。
>>>* Default3: 信用数据默认为0。
>>>* Dcfault4: 默认身份为客户。
>>>* Default5: 时间默认为当天。
>>>* Default6: Coupon表默认数据：(2,'满500-100优惠',2,3,'满减优惠券',500,0,1,NULL,NULL,100)
>>>* Default7: Hotel表默认数据：(1,'汉庭酒店','欢迎您入住','周边风景优美','汉庭大道','XiDan','Four',1829373819,4.8,1),  
                                (2,'儒家酒店','欢迎您入住','南京鼓楼商圈','南京市鼓楼区珠江路268号','WanDa','Four',1829373819,4.8,2),  
                                (3,'桂圆酒店','欢迎您入住','景色宜人','南京市栖霞区珠江路268号','XianLin','Four',1829553719,4.8,6)  
>>>* Default8: Room表默认数据：(2,199,20,20,1,'BigBed'),  
                               (3,299,30,30,1,'DoubleBed'),  
                               (4,399,10,10,1,'Family'),  
                               (6,399,10,10,2,'Family')  
>>>* Default9: User表默认数据：(4,'1012681@qq.com','123456','测试一号','12345678919',100,'Client'),  
                               (5,'123@qq.com','123456','测试二号','12345678911',100,'Client'),  
                               (6,'333@qq.com','123456',NULL,NULL,NULL,'HotelManager'),  
                               (7,'666@qq.com','123456',NULL,NULL,NULL,'Admin')  

#### 3.4.3  数据格式要求
>* Format1: 价格和费用的格式必须是大于等于0的整数， 单位为元。
>* Format2：日期的格式必须是yyyy-mm-dd。
>* Format3: 房间数和人数的格式必须是正整数。

